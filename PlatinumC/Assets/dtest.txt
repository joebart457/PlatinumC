library msvcrt 'msvcrt.dll'

import msvcrt stdcall void printf(string msg);
import msvcrt cdecl void printf_num(string msg, int num) from 'printf';

library kernel32 'kernel32.dll'

import kernel32 stdcall ptr GetStdHandle(int identifier);
import kernel32 stdcall void WriteFile(ptr hConsole, string msg, int sizeOfMessage, int bytesWritten, int reserved);
import kernel32 stdcall void ExitProcess(int exitCode);

void Main(){
	int x = 89;
	printf("hello, world");	
	int* y = &x;
	printf("hello,2 world");
	*y = 98;
	printf("hello, 3world");
	printf_num("x is %d (should be 98)", *y);
	ExitProcess(0);
}


